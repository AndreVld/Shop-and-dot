{% extends 'app_main/index.html' %}
{% load static %}


{% block content %}

<div id="container">

    <div id="login" class="popup active">
        <h2>Login</h2>
        <form id="login_form" method="POST">
            {% csrf_token %}
            <div class="inputBox">
                {{ form.username }}

                <label for="{{ form.username.id_for_label }}">Username</label>
            </div>

            <div class="inputBox">
                {{ form.password }}
                <label for="{{ form.password.id_for_label }}">Password</label>
            </div>
            <section>
                <input type="submit" value="Submit">
                <input type="Button" onclick="changeForm()" value="Register">
            </section>
        </form>

    </div>

    <div id="register" class="popup">
        <h2>Register</h2>
        <form id="register_form" action="{% url 'app_users:register' %}" method="POST">
            {% csrf_token %}
            <div class="inputBox">
                {{ register_form.username }}
                <label for="{{ register_form.username.id_for_label }}">Username</label>
            </div>

            <div class="inputBox">
                {{ register_form.email }}
                <label for="{{ register_form.emal.id_for_label }}">Email</label>
            </div>

            <div class="inputBox">
                {{ register_form.password1 }}
                <label for="{{ register_form.password1.id_for_label }}">Password</label>
            </div>

            <div class="inputBox">
                {{ register_form.password2 }}
                <label for="{{ register_form.password2.id_for_label }}">Repeat password</label>
            </div>
            <section>
                <input type="submit" value="Submit">
                <input type="button" onclick="changeForm()" value="Login">
            </section>
        </form>

    </div>



    <script type="text/javascript">

        const popups = document.getElementsByClassName('popup')
        let j = 0;

        function popupLogReg() {
            popups[0].classList.toggle('active')
            popups[1].classList.remove('active')
        }

        function closePopup() {
            popups[0].classList.remove('active')
            popups[1].classList.remove('active')
        }

        function changeForm() {
            popups[j].classList.toggle('active')
            j = (j + 1) % popups.length
            popups[j].classList.toggle('active')
        }

    </script>
</div>
{% endblock content %}